<!-- stylesheet for the svg -->
<!--<link type="text/css" rel="stylesheet" href="../css/svg-theatre.css">-->

<div class="row white-text">

    <div class="row">
        <div class="col s12 m12 l12 center-align">
            <h2 class="center-align yellow-text text-accent-4">Sale</h2>
        </div>
    </div>

    <!-- Contenuto della pagina sale -->
    <div class="col s12 m4 l4"> <!-- lista -->
        <div class="row">
            <!-- lista degli spettacoli da selezionare -->
            <ul class="row grey darken-3" style="padding: 1em; border-radius: 2px;">
                <li class="col s12 m12 l12 card grey darken-4" style="padding: 5px;" ng-repeat="room in ctrl.rooms track by $index"  ng-class="{blue : ctrl.currentSelected == $index, grey : ctrl.currentSelected != $index}">
                    <div class="col s12 m12 l12 center-align" ng-click="ctrl.setCurrentRoom($index)">
                        <h5><b>SALA {{room.rid}}</b>
                            <a ng-click="ctrl.open_modal($index)" class="modal-trigger" data-target="modal_room_delete" href="">
                                <i class="red-text mdi-action-delete right"></i>
                            </a>
                            <a href="#admin/rooms/edit_room/{{room.rid}}">
                                <i class="yellow-text mdi-action-assignment right"></i>
                            </a>
                        </h5>
                    </div>
                </li>
            </ul>
        </div>
        <div class="row">

        </div>
        <div class="row center-align">
            <a class="btn green waves-effect waves-light" href="#admin/rooms/new_room">NUOVA STANZA
                <i class="mdi-action-home"></i>
            </a>
        </div>
    </div>
    <div ng-hide="ctrl.mapLoaded" class="col s12 m8 l8 center-align"> <!-- caricamento mappa sala -->
        <div class="login-loader preloader-wrapper large active">
            <div class="spinner-layer spinner-blue-only spinner-white-only">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div><div class="gap-patch">
                <div class="circle"></div>
            </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>
    <div ng-show="ctrl.mapLoaded" class="col s12 m8 l8"> <!-- mappa -->
        <map o="ctrl.shared_obj"></map><!-- will be filled by js -->
    </div>
    <div class="row">

    </div>
    <div class="row">

    </div>
</div>

<div id="modal_room_delete" class="modal">
    <div class="modal-content">
        <h4>Cancellazione Sala</h4>
        <p>Sei sicuro di voler cancellare la sala {{ctrl.currentRoom.rid}} ?</p>
        <p class="red-text">{{ctrl.delete_error}}</p>
        <div class="modal-footer">
            <a ng-click="ctrl.close_modal()" class="modal-action waves-effect waves-red waves-red btn-flat">RIFIUTA</a>
            <a ng-click="ctrl.deleteRoom()" class="modal-action waves-effect waves-green btn-flat">ACCETTA</a>
        </div>
    </div>