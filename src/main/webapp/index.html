<!DOCTYPE html>

<html lang="it" ng-app="cineweb">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
    <title>CineWeb</title>

    <!-- favicon -->
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />

    <!--Cose aggiunte da willy-->
    <link href='https://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../css/reset-today.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="../css/style-today.css"> <!-- Resource style -->
    <script src="../js/modernizr.js"></script> <!-- Modernizr -->
    <!--Cose aggiunte da willy-->

    <!-- CSS  -->
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="css/stylesheet.css" type="text/css" rel="stylesheet" media="screen,projection"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="js/materialize.min.js"></script>

    <script src="lib/angular.min.js"></script>
    <script src="lib/angular-resource.min.js"></script>
    <script src="lib/angular-locker.min.js"></script>
    <script src="lib/angular-route.min.js"></script>

    <script src="js/app.js"></script>
    <script src="js/services/constants.js"></script>
    <script src="js/services/storage.js"></script>
    <script src="js/services/users.js"></script>
    <script src="js/controller/login.js"></script>
    <script src="js/controller/plays.js"></script>
    <script src="js/controller/tab.js"></script>
    <script src="js/controller/registration.js"></script>
    <script src="js/controller/userArea.js"></script>


</head>
<body ng-controller="TabController as tab">

<div class="navbar-fixed">
    <nav class="grey darken-4" role="navigation">
        <div class="nav-wrapper">
            <a href="#home" class="center brand-logo yellow-text text-accent-4"><img id="logo" class="left" src="img/logo.png">CineWeb</a>
            <ul class="left hide-on-med-and-down">
                <li><a class="yellow-text text-accent-4" href="#today">Oggi al Cinema</a></li>
                <li><a class="yellow-text text-accent-4" href="#soon">Prossimamente</a></li>
                <li><a class="yellow-text text-accent-4" href="#informations">Informazioni</a></li>
                <li><a class="yellow-text text-accent-4" href="#me">Me</a></li>
            </ul>

            <ul class="right hide-on-med-and-down">
                <li><a class="yellow-text text-accent-4" ng-click="tab.setTab(1)"><i class="mdi-action-shopping-cart"></i></a></li>
                <li><a class="yellow-text text-accent-4" ng-click="tab.setTab(2)"><i class="mdi-action-account-circle"></i></a></li>
                <li><a class="yellow-text text-accent-4" ng-click="tab.setTab(3)"><i class="mdi-action-search"></i></a></li>
            </ul>


            <ul id="nav-mobile" class="side-nav grey darken-4">
                <li><a class="yellow-text text-accent-4" href="#today">Oggi</a></li>
                <li><a class="yellow-text text-accent-4" href="#soon">Programmazione</a></li>
                <li><a class="yellow-text text-accent-4" href="#informations">Informazioni</a></li>
                <li><a class="yellow-text text-accent-4" href="#me">Me</a></li>
                <li><a class="yellow-text text-accent-4" ng-click="tab.setTab(1)"><i class="mdi-action-shopping-cart left"></i>Carrello</a></li>
                <li><a class="yellow-text text-accent-4" ng-click="tab.setTab(2)"><i class="mdi-action-account-circle left"></i>Accedi</a></li>
            </ul>
            <a href="#" data-activates="nav-mobile" class="button-collapse yellow-text text-accent-4"><i class=" mdi-navigation-menu"></i></a>
            <a href="#" data-activates="nav-mobile" class="button hide-on-large-only right" ng-click="tab.setTab(3)"><i class="yellow-text text-accent-4 mdi-action-search"></i></a>
        </div>
    </nav>
</div>

<!-- here the main content -->
<main>
    <div class="content-div" ng-view>

    </div>

    <div class="side-div grey darken-4 white-text">
        <!-- Only Mobile: bottone per chiudere la side-div-->
        <div class="row">
            <button class="hide-side-nav-button-mobile btn hide-on-med-and-up col offset-s1 s10 offset-m1 m10 yellow accent-4"><i class="mdi-navigation-arrow-back left"></i> Torna indietro</button>
        </div>
        <ul class="side-div-menu">
            <li ng-controller="PlaysController as ctrl" class="side-cart side-nav-element" ng-show="tab.isSet(1)">
                <div class="side-cart-content row"> <!-- Contenuto carrello -->
                    <ul  class="cart-items col s12 m12 l12"> <!-- lista dei film acquistati -->

                        <li ng-repeat="film in ctrl.cart" class="cart-item row grey darken-3"> <!-- singolo film acquistato (oggetto da duplicare) -->
                            <div class="item-image col s4 m4 l4"> <!-- locandina -->
                                <img class="responsive-img" src="{{film.playbill}}" alt="locandina" />
                            </div>
                            <div class="item-details col s8 m8 l8"> <!-- titolo, data, doropdowns -->
                                <div class="row">
                                    <div class="col s9 m9 l9">
                                        <h5>{{film.title}}</h5> <!-- titolo -->
                                        <h6>{{film.date}}, {{film.time}}</h6> <!-- data -->
                                    </div>
                                    <i ng-click="ctrl.removeFromCart($index)" class="col s3 m3 l3 mdi-action-highlight-remove small right-align"></i>
                                </div>
                                <div class="row">
                                    <div class="col s7 m7 l7">
                                        <label>Tipologia</label>
                                    </div>
                                    <div class="col offset-s1 s4 offset-m1 m4 offset-l1 l4">
                                        <label>Quantità</label>
                                    </div>
                                </div>
                                <div class="row"> <!-- dropdowns -->
                                    <div class="col s7 m7 l7"> <!-- dropdown tipologia biglietto -->
                                        <select class="browser-default black-text">
                                            <option value="normale" selected>Normale</option>
                                            <option value="ridotto">Ridotto</option>
                                            <option value="militari">Militari</option>
                                            <option value="disabili">Disabili</option>
                                        </select>
                                    </div>
                                    <div class="col offset-s1 s4 offset-m1 m4 offset-l1 l4"> <!-- dropdown quantità biglietti -->
                                        <select class="browser-default black-text">
                                            <option selected value="0">Cancella</option>
                                            <option value="1" selected>1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                        </select>
                                    </div>
                                </div>


                                <div class="row"> <!-- pulsante di aggiunta tipologia -->
                                    <a class="col s12 m12 l12  white-text waves-effect waves-yellow btn-flat center-align">Aggiungi tipologia</a>
                                </div>
                            </div>
                        </li>  <!-- END singolo film acquistato -->
                    </ul> <!-- END lista acquisti -->

                </div>
                <div class="side-cart-actions row"> <!-- div in fondo con bottone compra e totale -->
                    <div class="side-cart-total row">
                        <h5 class="col s7 m7 l7">Totale:</h5>
                        <h5 class="total col s5 m5 l5 right-align">{{ctrl.total}} €</h5>
                    </div>
                    <button class="btn-large green white-text col offset-s1 s10 offset-m1 m10 offset-l1 l10">Prosegui<i class="mdi-navigation-chevron-right right"></i></button>
                </div>
            </li>
            <li class="side-login side-nav-element" ng-show="tab.isSet(2)">
                <div ng-controller="LoginController as c" class="row grey darken-4">
                    <div class="col offset-s1 s10 offset-m1 m10 offset-l1 l10">
                        <h4>Login</h4>
                        <h6 ng-show="c.error" class="red-text">{{c.error}}</h6>
                        <form>
                            <div class="input-field">
                                <i class="mdi-action-account-circle prefix"></i>
                                <input id="user" type="text" ng-model="c.user.email">
                                <label for="user" class="white-text">Nome Utente</label>
                            </div>
                            <div class="input-field">
                                <i class="mdi-action-lock prefix"></i>
                                <input id="pass" type="password" ng-model="c.user.pass">
                                <label for="pass" class="white-text">Password</label>
                            </div>
                            <div class="row">
                                <a  ng-click="c.losePass(c.user.email)" class="yellow-text text-accent-4" type="submit" name="forgot" href="#">Password dimenticata? Clicca qui.</a>
                            </div>
                            <div class="row">
                                <button ng-click="c.login(c.user.email, c.user.pass)" class="col s12 m12 l12 btn-large green white-text waves-effect waves-light" type="submit" name="login">Login
                                    <i class="mdi-content-send white-text right"></i>
                                </button>
                            </div>
                            <div class="row">
                                <button ng-click="c.register(c.user.email)" class="col s12 m12 l12 btn yellow accent-4 black-text waves-effect waves-light" type="submit" name="register">Registrati
                                    <i class="mdi-action-assignment black-text left"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </li>
            <li class="side-search side-nav-element" ng-show="tab.isSet(3)">
                <div class="row">
                    <form>
                        <div class="input-field">
                            <i class="mdi-action-search prefix"></i>
                            <input id="search" type="search" required>

                        </div>
                    </form>

                </div>

                <div class="row">
                    <!-- risultati ricerca -->
                </div>



            </li>
        </ul>
    </div>

</main>

<footer class="page-footer grey darken-4">
    <div class="container white-text">
        <div class="row">
            <div class="col l6 s12">
                <h5 class="white-text">Footer Content</h5>
                <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
            </div>
            <div class="col l4 offset-l2 s12">
                <h5 class="white-text">Links</h5>
                <ul>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 1</a></li>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 2</a></li>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 3</a></li>
                    <li><a class="grey-text text-lighten-3" href="#!">Link 4</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            © 2014 Copyright Text
            <a class="grey-text text-lighten-4 right" href="#!">More Links</a>
        </div>
    </div>
</footer>





</body>
</html>
